<h1 align="center" id="提示词工程">提示词工程</h1>

**概要：** 本章节将介绍如何让 LLM 更加智能。

## 示例

```
cursor：claude3.7think

我想开发一个{类似小宇宙的播客app}，现在需要输出高保真的原型图，请通过以下方式帮我完成所有界面的原型设计，并确保这些原型界面可以直接用于开发：
1、用户体验分析：先分析这个 App 的主要功能和用户需求，确定核心交互逻辑。
2、产品界面规划：作为产品经理，定义关键界面，确保信息架构合理。
3、高保真 UI 设计：作为 UI 设计师，设计贴近真实 iOS/Android 设计规范的界面，使用现代化的 UI 元素，使其具有良好的视觉体验。
4、HTML 原型实现：使用 HTML + Tailwind CSS（或 Bootstrap）生成所有原型界面，并使用 FontAwesome（或其他开源 UI 组件）让界面更加精美、接近真实的 App 设计。拆分代码文件，保持结构清晰：
5、每个界面应作为独立的 HTML 文件存放，例如 home.html、profile.html、settings.html 等。
- index.html 作为主入口，不直接写入所有界面的 HTML 代码，而是使用 iframe 的方式嵌入这些 HTML 片段，并将所有页面直接平铺展示在 index 页面中，而不是跳转链接。
- 真实感增强：
- 界面尺寸应模拟 iPhone 15 Pro，并让界面圆角化，使其更像真实的手机界面。
- 使用真实的 UI 图片，而非占位符图片（可从 Unsplash、Pexels、Apple 官方 UI 资源中选择）。
- 添加顶部状态栏（模拟 iOS 状态栏），并包含 App 导航栏（类似 iOS 底部 Tab Bar）。请按照以上要求生成完整的 HTML 代码，并确保其可用于实际开发。
```

## 提示词 26 条原则

**一、清晰与简洁**

1. **简洁性与直接性**
   - **原则**: 如果偏好更简洁的回答，不需要对 LLM 礼貌。避免添加如“请”、“如果你不介意”、“谢谢”、“我想要...”等短语，应直截了当。
   - **用法**: 在提问时去掉不必要的礼貌用语，直接表达需求。
   - 示例
     - 原始提示：“请帮我解释一下气候变化。”
     - 改进后：“解释气候变化。”
2. **明确受众**
   - **原则**: 在提示中指明预期的受众，例如“受众是该领域的专家”或“受众是 5 岁的孩子”。
   - **用法**: 根据目标受众调整语言风格和内容复杂度。
   - 示例
     - 针对专家：“为领域专家解释量子计算的基本原理。”
     - 针对孩子：“像给 5 岁孩子解释一样描述太阳系是如何工作的。”
3. **分解复杂任务**
   - **原则**: 在交互对话中将复杂任务分解为一系列更简单的提示。
   - **用法**: 将大问题拆分为多个小问题逐步引导模型解决。
   - 示例
     - 复杂任务：“编写一个程序来处理文件中的数据。”
     - 分解后：
       1. “第一步：读取文件内容。”
       2. “第二步：解析数据格式。”
       3. “第三步：处理并输出结果。”
4. **使用肯定指令**
   - **原则**: 使用肯定指令（如“做这个”），同时避免使用否定语言（如“不要做那个”）。
   - **用法**: 确保指令清晰明确，避免让模型理解可能产生歧义的否定指令。
   - 示例
     - 否定指令：“不要写得太复杂。”
     - 肯定指令：“用简单语言写。”
5. **请求简单解释或类比 (原名: 提供上下文或示例)**
   - **原则**: 当需要模型用简单方式解释复杂主题、概念或信息时，可以明确要求，例如：“用简单的话解释[具体主题]”，“像给 11 岁孩子解释一样说明”，或“用初学者能懂的方式解释”。
   - **用法**: 通过指定解释的简洁程度或类比对象，帮助模型生成更易于理解的回答。
   - 示例
     - 原始提示：“解释机器学习。”
     - 改进后：“用简单英语解释机器学习，就像在教一个初学者。”

------

**二、激励与引导**

1. **引入激励机制**

   - **原则**: 添加类似“我将支付 xxx 美元以获得更好的解决方案！”这样的激励性短语。
   - **用法**: 通过模拟奖励来潜在地引导模型生成更高质量或更具创造性的回答。
   - 示例
     - 原始提示：“提出一个创新产品想法。”
     - 改进后：“我将支付 1000 美元以获得一个创新的产品想法！”

2. **示例驱动提示 (Few-shot Prompting)**

   - **原则**: 提供少量输入输出对作为示例，帮助模型理解任务要求和期望的输出格式。
   - **用法**: 在提出实际问题前，先给出几个具体的例子。
   - 示例
     - 输入：“苹果是水果吗？” 输出：“是的，苹果是一种水果。”
     - 输入：“铁是金属吗？” 输出：“是的，铁是一种金属。”
     - 新问题：“水是液体吗？”

3. **格式化提示结构**

   - **原则**: 在提示中使用清晰的结构化格式，例如使用“指令”、“示例”、“问题”等标签来组织内容。

   - **用法**: 使用标签和分隔符（见原则 17）来清晰地组织提示的各个部分，引导模型理解不同部分的意图。

   - 示例

     ```
     指令：解释气候变化。
     示例：太阳系是如何工作的，请用简单语言解释。
     问题：[此处输入你的具体问题]
     ```

4. **使用任务导向语言**

   - **原则**: 在提示中加入“你的任务是”或“你必须”等明确任务的短语。
   - **用法**: 强调任务的重要性，使模型更专注于完成指定的目标。
   - 示例
     - 原始提示：“解释光合作用。”
     - 改进后：“你的任务是详细解释光合作用的过程。”

5. **引入模拟惩罚机制**

   - **原则**: 在提示中加入类似“如果答案不准确，你将被惩罚”等强调后果的短语。
   - **用法**: 强调对回答准确性或特定要求的高期望（注意：这是一种模拟手段，模型本身没有感知）。
   - **示例**: “如果答案不准确，你将被惩罚。”

6. **要求自然语言形式**

   - **原则**: 在提示中明确要求模型“以自然、人性化的方式回答问题”。
   - **用法**: 引导模型生成更符合人类日常交流风格、不那么机械的回答。
   - 示例
     - 原始提示：“解释人工智能。”
     - 改进后：“以自然、人性化的方式解释人工智能。”

7. **使用引导性词语 (逐步思考)**

   - **原则**: 使用引导性词语，如“一步一步思考”，来引导模型进行更细致的推理过程。
   - **用法**: 鼓励模型在给出最终答案前，展现其思考步骤或逻辑链条。
   - 示例
     - 原始提示：“求解方程 x2+2x+1=0。”
     - 改进后：“一步一步思考，求解方程 x2+2x+1=0。”

8. **强调避免偏见**

   - **原则**: 在提示中加入“确保你的回答是公正的，并且不依赖刻板印象”等要求。
   - **用法**: 引导模型在处理敏感话题或可能涉及偏见的内容时，保持客观和中立。
   - 示例
     - 原始提示：“女性在科技领域的作用是什么？”
     - 改进后：“确保你的回答是公正的，并且不依赖刻板印象，解释女性在科技领域的作用。”

9. **允许模型提问以细化需求**

   - **原则**: 允许模型通过提问来获取完成任务所需的更精确的细节或上下文。
   - **用法**: 当任务复杂或信息不足时，授权模型主动询问，直到它拥有足够信息来提供所需输出。
   - **示例**: “从现在开始，我希望你问我问题以便更好地完成任务，直到你认为拥有足够信息为止。”

10. **测试理解与教学能力**

    - **原则**: 使用提示来测试模型对某个主题的解释能力，并要求模型在用户回答后进行判断。
    - **用法**: 让模型扮演教师角色，解释概念并出题检验理解程度。
    - **示例**: “教我[某个定理/主题/规则名称]，并在最后包含一个测试。在我回答测试后，告诉我是否正确，但不要提前提供答案。”

------

**三、角色扮演与格式控制**

1. **分配角色**

   - **原则**: 为大型语言模型分配一个特定的角色。
   - **用法**: 通过角色扮演，使模型的回答风格、语气和知识领域更符合预期。
   - **示例**: “扮演一位经验丰富的数学家回答以下问题。”

2. **使用分隔符**

   - **原则**: 使用清晰的分隔符（如三引号 `"""`、`---`、`###` 或 XML 标签如 `<context>...</context>`）来划分提示的不同部分，如上下文、指令、问题、示例等。

   - **用法**: 帮助模型区分提示中的不同组成部分，提高理解准确性。

   - 示例

     ```
     上下文:
     """
     [在此处粘贴相关背景信息]
     """
     指令:
     根据以上上下文，回答以下问题。
     问题:
     [你的具体问题]
     ```

3. **重复关键词或短语**

   - **原则**: 在提示的开头和结尾，或者在主要指令中多次重复特定的关键词、短语或指令，以强调其重要性。
   - **用法**: 确保模型关注核心任务或要求。
   - **示例**: “重要：总结以下文本。总结时，请确保只包含核心观点。记住，只总结核心观点。”

4. **结合思维链 (Chain-of-Thought) 与少量示例**

   - **原则**: 将思维链提示（引导模型展示思考步骤）与少量示例（提供具体例子）结合起来。

   - **用法**: 先给出少量示例，并在示例中展示详细的思考或推理步骤，然后提出新问题，引导模型采用类似的逐步推理方式。

   - 示例

     ```
     问题：Roger 有 5 个网球。他又买了 2 罐网球。每罐有 3 个网球。他现在总共有多少个网球？
     思考：Roger 开始有 5 个球。他买了 2 罐，每罐 3 个，所以是 2 * 3 = 6 个新球。因此，他总共有 5 + 6 = 11 个球。
     答案：11
     
     问题：[你的类似多步骤计算问题]
     思考：
     答案：
     ```

     (引导模型填写“思考”和“答案”)

5. **使用输出引导词 (Output Priming)**

   - **原则**: 在提示的结尾加入期望输出的开头部分。
   - **用法**: 引导模型以特定的格式或内容开始其回答。
   - 示例
     - 提示：“将以下法语句子翻译成英文：'Bonjour, comment ça va ?' 英文翻译是：”
     - 期望模型续写：“英文翻译是：Hello, how are you?”

------

**四、特定任务指令**

1. **要求详细信息**

   - **原则**: 对于需要详细、全面回答的任务，明确提出要求。
   - **用法**: 指导模型生成包含所有必要信息的长篇内容。
   - **示例**: “为我详细写一篇关于[特定历史事件]的文章，需要包含其背景、主要过程、重要人物、直接影响和长远意义等所有必要信息。”

2. **文本修订与润色**

   - **原则**: 针对文本修订任务，提供清晰的修改指令。
   - **用法**: 明确模型需要改进的方面（如语法、词汇、自然度），同时指示其保持原文风格。
   - **示例**: “尝试修改用户发送的每一段文字。你只需要改进语法和词汇，并确保文本听起来自然流畅，同时尽可能保持原始的写作风格和语气。”

3. **复杂编码任务的自动化脚本**

   - **原则**: 对于涉及多个文件或复杂设置的编码任务，要求模型生成辅助脚本。
   - **用法**: 提高编码任务的效率和准确性，通过脚本自动创建或修改文件。
   - **示例**: “从现在开始，每当生成跨越多个文件的代码时（例如一个前端组件及其样式文件），请同时生成一个 `bash` 脚本，该脚本可以自动创建指定的文件并将生成的代码片段写入相应的文件中。”

4. **续写文本**

   - **原则**: 提供文本的开头，要求模型基于此进行续写，并保持连贯性。
   - **用法**: 用于故事创作、歌词补充、段落扩展等场景。
   - **示例**: “我提供给你故事的开头：‘在一个遥远的星系，一颗孤独的星球上，住着一个梦想探索宇宙的年轻发明家。一天，他发现了一块神秘的水晶...’ 请基于此内容继续这个故事，并保持风格和情节的连贯性。”

5. **明确要求与约束**

   - **原则**: 清楚地说明模型在生成回答时必须遵循的要求、规则或约束条件。
   - **用法**: 可以通过关键词、规则列表或提示的形式呈现，确保输出符合特定标准。
   - **示例**: “总结以下文章。要求：1. 总结不超过 100 字。2. 使用要点列表。3. 避免使用专业术语。”

6. **参考样本进行模仿**

   - **原则**: 对于需要模仿特定文体、风格或格式的任务，提供一个参考样本。

   - **用法**: 明确指示模型在语言风格、语气、结构等方面与提供的样本保持一致。

   - 示例

     ```
     参考段落：
     “晨曦微露，雾霭尚未散尽，古老的石桥静静地横卧在碧波之上，两岸的垂柳轻拂水面，偶有鸟鸣划破这片宁静。”
     
     你的任务：
     使用与参考段落相同的描述风格和意境，写一段关于黄昏时分森林景色的文字。
     ```



## 参考

- [docs.anthropic.com](https://docs.anthropic.com/zh-CN/docs/build-with-claude/prompt-engineering/overview)
- [谷歌笔记](https://colab.research.google.com/drive/1SoAajN8CBYTl79VyTwxtxncfCWlHlyy9#scrollTo=BOYnM7A3g6HB)
