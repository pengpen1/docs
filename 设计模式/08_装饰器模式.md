# 08_结构型：装饰器模式 (Decorator)

装饰器模式动态地给一个对象添加一些额外的职责。就增加功能来说，Decorator 模式相比生成子类更为灵活。

**核心思想：**

*   通过创建一个包装对象（装饰器）来包裹真实的对象。
*   装饰器和被装饰对象实现相同的接口。
*   装饰器持有被装饰对象的引用，可以在调用被装饰对象的方法前后添加额外的行为。
*   可以动态地、透明地给对象添加功能，支持嵌套装饰。

**与适配器模式的区别：**

*   适配器模式旨在改变接口，而装饰器模式旨在增强功能，不改变接口。

**应用场景：**

*   在不影响其他对象的情况下，以动态、透明的方式给单个对象添加职责。
*   处理那些可以撤销的职责。
*   当不能采用生成子类的方法进行扩充时。一种情况是，可能有大量独立的扩展，为支持每一种组合将产生大量的子类，使得子类数目呈爆炸性增长。另一种情况可能是因为类定义被隐藏，或类定义不能用于生成子类。

**结构：**

*   Component（抽象构件）：定义一个对象接口，可以给这些对象动态地添加职责。
*   ConcreteComponent（具体构件）：定义一个将要接收附加职责的类。
*   Decorator（抽象装饰类）：维持一个指向 Component 对象的引用，并定义一个与 Component 接口一致的接口。
*   ConcreteDecorator（具体装饰类）：负责给 Component 对象添加上特定的职责。
