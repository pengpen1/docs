# 19_行为型：状态模式 (State)

状态模式允许一个对象在其内部状态改变时改变它的行为。对象看起来似乎修改了它的类。

**核心思想：**

*   将对象的每种状态封装成独立的类，这些状态类实现一个共同的状态接口。
*   Context 类持有一个当前状态对象的引用。
*   Context 类将与状态相关的行为委托给当前状态对象处理。
*   当对象的内部状态改变时，Context 对象会改变其持有的状态对象引用，从而改变其行为。

**与策略模式的区别：**

*   状态模式关注的是对象在不同状态下的行为变化，状态转换通常由 Context 或状态对象自身控制。
*   策略模式关注的是算法的选择和替换，策略的选择通常由客户端决定。

**应用场景：**

*   一个对象的行为取决于它的状态, 并且它必须在运行时刻根据状态改变它的行为。
*   一个操作中含有庞大的多分支的条件语句，且这些分支依赖于该对象的状态。状态模式将每一个条件分支放入一个独立的类中。这使得你可以根据对象自身的情况将对象的状态作为一个对象，这一对象可以不依赖于其他对象而独立变化。

**结构：**

*   Context（上下文）：定义客户感兴趣的接口；维护一个 ConcreteState 子类的实例，这个实例定义当前状态。
*   State（抽象状态类）：定义一个接口以封装与 Context 的一个特定状态相关的行为。
*   ConcreteState（具体状态类）：每一个子类实现一个与 Context 的一个状态相关的行为。
